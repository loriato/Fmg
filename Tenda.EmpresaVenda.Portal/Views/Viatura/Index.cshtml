@using Europa.Fmg.Domain.Dto.Viatura
@model FiltroViaturaDto

<script src="~/Static/projeto/viatura/viatura.js"></script>
<script>
    Europa.Controllers.Viatura.UrlListar = '@Url.Action("Listar","Viatura")';
    Europa.Controllers.Viatura.UrlSalvar = '@Url.Action("Salvar","Viatura")';
    Europa.Controllers.Viatura.UrlVisualizar = '@Url.Action("Visualizar","Viatura")';
</script>
<div id="titlebar-name">
    Viatura
</div>
<div id="titlebar-buttons">
    <button class="btn btn-blue" onclick="Europa.Controllers.Viatura.AbrirModalIncluir()"><i class="fa fa-plus"></i> Incluir</button>
</div>
<div class="container mt-5">
    <div class="mt-4">
        <form id="form-filtro">
            <div class="row">
                <div class="col-md-4 form-group">
                    @Html.Label("Placa", new { @class = "control-label" })
                    @Html.TextBoxFor(x => x.Placa, null, new { @class = "form-control", id = "filtro-placa", maxlength = 128 })
                </div>
                <div class="col-md-4 form-group">
                    @Html.Label("Modelo", new { @class = "control-label" })
                    @Html.TextBoxFor(x => x.Modelo, null, new { @class = "form-control", id = "filtro-modelo" })
                </div>
                <div class="col-md-4 form-group">
                    @Html.Label("Renavam", new { @class = "control-label" })
                    @Html.TextBoxFor(x => x.Renavam, null, new { @class = "form-control", id = "filtro-renavam", maxlength = 11 })
                </div>
            </div>
            <div class="pull-right mt-4">
                <button class="btn btn-blue" onclick="Europa.Controllers.Viatura.Filtrar()"><i class="fa fa-filter"></i> Filtrar</button>
                <button class="btn btn-blue" title="Limpar">
                    <i class="fa fa-eraser"></i> Limpar
                </button>
            </div>
        </form>
    </div>
    <div class="mt-4">
        <div ng-controller="ViaturaDataTable as table">
            <table datatable="" dt-options="table.dtOptions" dt-columns="table.dtColumns"
                   dt-instance="table.dtInstance" class="table table-striped table-bordered"
                   dt-column-defs="table.dtColumnDefs"></table>
        </div>
    </div>

</div>

@{
    Html.RenderPartial("_ModalIncluirViatura");
    Html.RenderPartial("_ModalAlocarViatura");
    Html.RenderPartial("_ModalDesalocarViatura");
}