@using Europa.Resources
@model Tenda.EmpresaVenda.ApiService.Models.Cliente.ClienteDto

@{
    ViewBag.Codigo = "EVS05";
}
<div>
    <div class="geenFieldSet">
        <div class="panel-heading">
            <div>
                <h3 class="panel-title pull-left">@GlobalMessages.DadosPessoais</h3>
                <div class="pull-right">
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-2 form-group">
        @Html.Label(GlobalMessages.DataNascimento, new { @class = "control-label" })
        <div class="input-group">
            @Html.TextBoxFor(x => x.DadosPessoaisDto.DataNascimento, new { @class = "form-control form-control-sm", datepicker = "datepicker", parent = "#form_cliente", onchange = "Europa.Controllers.Cliente.CalcIdade()" })
            <span class="input-group-append">
                <button class="btn btn-outline-secondary btn-sm py-0" type="button" onclick="Europa.Components.DatePicker.Closest(this)" style="height: 31px;">
                    <img class="color-blue" src="~/Static/europa/css/icons/calendar.svg" />
                </button>
            </span>
        </div>
    </div>
    <div class="col-md-2">
        @Html.Label(GlobalMessages.Idade)
        @Html.TextBox("Idade", "", new { @class = "form-control form-control-sm", @readonly = "readonly" })
    </div>
    <div class="col-md-2">
        @Html.Label(GlobalMessages.NFilhos)
        @Html.TextBoxFor(x => x.DadosPessoaisDto.QuantidadeFilhos, new { @class = "form-control form-control-sm text-right inteiro" })
    </div>
    <div class="col-md-2">
        @Html.Label(GlobalMessages.EstadoCivil)
        @Html.EnumDropDownListFor(x => x.DadosPessoaisDto.EstadoCivil, GlobalMessages.Selecione, new { @class = "form-control form-control-sm", onchange = "Europa.Controllers.Cliente.HabilitarConjuge()" })
    </div>
    <div class="col-md-2 form-group">
        @Html.Label(GlobalMessages.Conjuge, new { @class = "control-label" })
        <div class="input-group">
            @Html.TextBox("Model.DadosPessoaisDto.FamiliarDto?.Cliente2.Nome", Model.DadosPessoaisDto.FamiliarDto?.Cliente2.Nome, new { @class = "form-control form-control-sm", @readonly = true, data_entity = "Cliente2", data_id = Model.DadosPessoaisDto.FamiliarDto?.Cliente2.Id })
            @Html.HiddenFor(x => x.DadosPessoaisDto.FamiliarDto.Cliente1.Id, new { @value = Model.IdCliente })
            @Html.HiddenFor(x => x.DadosPessoaisDto.FamiliarDto.Cliente2.Id)
            @Html.HiddenFor(x => x.DadosPessoaisDto.FamiliarDto.Cliente2.Nome)
            <div class="input-group-append">
                <button id="btn_select_cliente" type="button" class="btn btn-outline-secondary btn-sm py-0" onclick="Europa.Components.ClienteModal.AbrirModal(Europa.Controllers.Cliente.SelectConjuge)">
                    <i class="fas fa-search my-1" style="font-size: 18px;"></i>
                </button>
            </div>
        </div>
    </div>
    <div class="col-md-2">
        @Html.Label(GlobalMessages.RegimeBens)
        @Html.EnumDropDownListFor(x => x.DadosPessoaisDto.RegimeBens, GlobalMessages.Selecione, new { @class = "form-control form-control-sm" })
    </div>
</div>

<div class="row">
    <div id="div_profissao" class="col-md-4 form-group">
        @Html.Label(GlobalMessages.Profissao, new { @class = "control-label" })
        @Html.HiddenFor(x => x.DadosPessoaisDto.Profissao.Id)
        @Html.HiddenFor(x => x.DadosPessoaisDto.Profissao.Nome)
        <select name="DadosPessoaisDto.Profissao.Id" id="autocomplete_profissao_cliente" class="select2-container form-control form-control-sm"></select>
    </div>
    <div class="col-md-4 form-group">
        @Html.Label(GlobalMessages.Cargo, new { @class = "control-label" })
        @Html.TextBoxFor(x => x.DadosPessoaisDto.Cargo, new { @class = "form-control form-control-sm", maxlength = 128 })
    </div>
    <div class="col-md-4 form-group">
        @Html.Label(GlobalMessages.GrauInstrucao, new { @class = "control-label" })
        @Html.EnumDropDownListFor(x => x.DadosPessoaisDto.Escolaridade, GlobalMessages.Selecione, new { @class = "form-control form-control-sm" })
    </div>
</div>

<div class="row">
    <div class="col-md-2 form-group">
        @Html.Label(GlobalMessages.TipoIdentificacao, new { @class = "control-label" })
        @Html.EnumDropDownListFor(x => x.DadosPessoaisDto.TipoDocumento, GlobalMessages.Selecione, new { @class = "form-control form-control-sm" })
    </div>
    <div class="col-md-3 form-group">
        @Html.Label(GlobalMessages.NumeroDocumento, new { @class = "control-label" })
        @Html.TextBoxFor(x => x.DadosPessoaisDto.NumeroDocumento, new { @class = "form-control form-control-sm", maxlength = 128 })
    </div>
    <div class="col-md-2 form-group">
        @Html.Label(GlobalMessages.Emissor, new { @class = "control-label" })
        @Html.TextBoxFor(x => x.DadosPessoaisDto.OrgaoEmissor, new { @class = "form-control form-control-sm", maxlength = 30 })
    </div>
    <div class="col-md-2 form-group">
        @Html.Label(GlobalMessages.EstadoEmissor, new { @class = "control-label" })
        @{ Html.RenderPartial("_EstadosDropDownList", Tuple.Create("DadosPessoaisDto.EstadoEmissor", Model.DadosPessoaisDto?.EstadoEmissor));}
    </div>
    <div class="col-md-3 form-group">
        @Html.Label(GlobalMessages.DataEmissao, new { @class = "control-label" })
        <div class="input-group">
            @Html.TextBoxFor(x => x.DadosPessoaisDto.DataEmissao, "{0:dd/MM/yyyy}", new { @class = "form-control form-control-sm", datepicker = "datepicker", parent = "#cliente_form" })
            <span class="input-group-append">
                <button class="btn btn-outline-secondary btn-sm py-0" type="button" onclick="Europa.Components.DatePicker.Closest(this)" style="height: 31px;">
                    <img class="color-blue" src="~/Static/europa/css/icons/calendar.svg" />
                </button>
            </span>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-3">
        @Html.Label(GlobalMessages.Nacionalidade)
        @Html.TextBoxFor(x => x.DadosPessoaisDto.Nacionalidade, new { @class = "form-control form-control-sm", maxlength = 128, @readonly = "readonly", Value = "BR" })
    </div>
    <div class="col-md-3 form-group">
        @Html.Label(GlobalMessages.Naturalidade, new { @class = "control-label" })
        @Html.TextBoxFor(x => x.DadosPessoaisDto.Naturalidade, new { @class = "form-control form-control-sm", maxlength = 128 })
    </div>
    <div class="col-md-6 form-group">
        @Html.Label(GlobalMessages.Filiacao, new { @class = "control-label" })
        @Html.TextBoxFor(x => x.DadosPessoaisDto.Filiacao, new { @class = "form-control form-control-sm", maxlength = 256 })
    </div>
</div>

<div class="row">
    <div class="col-md-4 form-group">
        @Html.Label(GlobalMessages.TipoResidencia, new { @for = "Cliente_TipoResidencia", @class = "control-label" })
        @Html.EnumDropDownListFor(x => x.DadosPessoaisDto.TipoResidencia, GlobalMessages.Selecione, new { @class = "form-control form-control-sm" })
    </div>
</div>