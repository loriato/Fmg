@using Europa.Extensions
@using Europa.Resources
@using Tenda.Domain.EmpresaVenda.Enums
@using Tenda.EmpresaVenda.Web.Models.Application
@using Tenda.Domain.Core.Enums
@using Tenda.EmpresaVenda.Domain.Commons
@using Tenda.Domain.Shared

@{
    var regionais = new List<SelectListItem> { new SelectListItem { Value = "Todos", Text = "Todos" } };
    regionais.AddRange(RegionalHelper.RegionaisMatrizSelectListItem);

    var filas = new List<SelectListItem> { new SelectListItem { Value = "", Text = "" } };

    if (!ProjectProperties.FilasSUAT.IsEmpty())
    {
        filas = ProjectProperties.FilasSUAT.OrderBy(x=>x.Nome).Select(x=>new SelectListItem { Value=x.IdFila.ToString(),Text=x.Nome}).ToList();
    }
     
}

<form id="filtro">
    <div class="col-md-24">
        <div class="col-md-2">
            @Html.Label(GlobalMessages.Regional)
            @Html.DropDownList("Regional", regionais, new { @class = "form-control", })
        </div>
        <div class="col-md-3 col-md-offset-1">
            @Html.Label(GlobalMessages.Codigo)
            @Html.TextBox("CodigoProposta", null, new { @class = "form-control" })
        </div>
        <div class="col-md-7 col-md-offset-1">
            <div class="col-md-11">
                @Html.Label(GlobalMessages.DataUltimoEnvio)
                <div class="input-group">
                    <span class="input-group-addon">@GlobalMessages.De</span>
                    @Html.TextBox("DataUltimoEnvioDe", "", new { @class = "form-control", datepicker = "datepicker" , onchange="Europa.Controllers.FilaUnificada.OnChangeDataUltimoEnvio()"})
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" onclick="Europa.Components.DatePicker.ClosestInput(this)">
                            <i class="fa fa-calendar"></i>
                        </button>
                    </span>
                </div>
            </div>
            <div class="col-md-11 col-md-offset-2">
                @Html.Label(GlobalMessages.DataUltimoEnvio, new { style = "visibility:hidden" })
                <div class="input-group">
                    <span class="input-group-addon">@GlobalMessages.Ate</span>
                    @Html.TextBox("DataUltimoEnvioAte", "", new { @class = "form-control", datepicker = "datepicker" })
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" onclick="Europa.Components.DatePicker.ClosestInput(this)">
                            <i class="fa fa-calendar"></i>
                        </button>
                    </span>
                </div>
            </div>
        </div> <!-- Fim do componente de data -->
        <div class="col-md-9 col-md-offset-1">
            @Html.Label(GlobalMessages.Fila)
            @Html.DropDownList("Filas", filas, new { @class = "form-control", multiple = "multiple" })
        </div>        
    </div>
    <div class="col-md-24 mais-filtros">
        <div class="col-md-6 hidden">
            @Html.Label(GlobalMessages.Viabilizador)
            @Html.TextBox("NomeViabilizador", null, new { @class = "form-control" })
        </div>
        <div class="col-md-6">
            @Html.Label(GlobalMessages.Cliente)
            @Html.TextBox("NomeCliente", null, new { @class = "form-control" })
        </div>
        <div class="col-md-7 col-md-offset-1">
            <div class="col-md-11">
                @Html.Label(GlobalMessages.DataElaboracao)
                <div class="input-group">
                    <span class="input-group-addon">@GlobalMessages.De</span>
                    @Html.TextBox("DataElaboracaoDe", "", new { @class = "form-control", datepicker = "datepicker", onchange = "Europa.Controllers.FilaUnificada.OnChangeDataElaboracao()" })
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" onclick="Europa.Components.DatePicker.ClosestInput(this)">
                            <i class="fa fa-calendar"></i>
                        </button>
                    </span>
                </div>
            </div>
            <div class="col-md-11 col-md-offset-2">
                @Html.Label(GlobalMessages.DataElaboracao, new { style = "visibility:hidden" })
                <div class="input-group">
                    <span class="input-group-addon">@GlobalMessages.Ate</span>
                    @Html.TextBox("DataElaboracaoAte", "", new { @class = "form-control", datepicker = "datepicker" })
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" onclick="Europa.Components.DatePicker.ClosestInput(this)">
                            <i class="fa fa-calendar"></i>
                        </button>
                    </span>
                </div>
            </div>
        </div>  <!-- Fim do componente de data -->
        <div class="col-md-4 col-md-offset-1">
            @Html.Label(GlobalMessages.EmpresaVendas)
            <select id="autocomplete_empresa_venda" multiple="multiple" name="autocomplete_empresa_venda" class="select2-container form-control"></select>
        </div>
        <div class="col-md-4 col-md-offset-1">
            @Html.Label(GlobalMessages.Empreendimento)
            @Html.TextBox("NomeEmpreendimento", null, new { @class = "form-control" })
        </div>
    </div>
    <div class="col-md-24 mais-filtros">
        <div class="col-md-3">
            @Html.Label(GlobalMessages.Cpf)
            @Html.TextBox("CpfCnpj", null, new { @class = "form-control" })
        </div>
            

        <div class="col-md-8 col-md-offset-1 hidden" style="padding-top:25px">
            <input id="check_avalista" type="checkbox" value="false" onchange="Europa.Controllers.FilaUnificada.OnCheckAvalista()" />
            @Html.Label(GlobalMessages.ExibirPPRAvalistaPendente)
        </div>
    </div>
</form>

<div class="col-md-24 teste-aparecer" style="text-align: center;margin-top: 7px;"><hr class="hr-mais-filtro" /><a id="btn-show-hide-filtro" style="cursor: pointer;text-decoration:none" onclick="Europa.Controllers.FilaUnificada.AlternarExibicaoInformacoes()"><p id="info-hide-filtro" style="margin-bottom:inherit"></p></a></div>

<div class="col-md-24">
    <div class="col-md-4 pull-right">
        <div class="col-md-24 text-right " style="vertical-align:central">
            @Html.Label(GlobalMessages.Filtrar, new { style = "visibility:hidden" })
            <button class="btn btn-default" title="@GlobalMessages.Filtrar" onClick="Europa.Controllers.FilaUnificada.Filtrar()"><i class="fa fa-filter"></i> @GlobalMessages.Filtrar</button>
            <button type="button" title="@GlobalMessages.Limpar" class="btn btn-default" onClick="Europa.Controllers.FilaUnificada.LimparFiltro()"><i class="fa fa-eraser"></i> @GlobalMessages.Limpar</button>
        </div>
    </div>
</div>