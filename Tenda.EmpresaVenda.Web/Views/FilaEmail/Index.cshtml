@using Europa.Resources
@using Tenda.Domain.EmpresaVenda.Enums
@using Tenda.EmpresaVenda.Web.Models.Application

@{
    ViewBag.Codigo = "SEG18";
    ViewBag.Title = ApplicationInfo.TituloUnidadeFuncional(ViewBag.Codigo);
}

<script type="text/javascript" src="~/Static/projeto/fila-email/index-fila-email.js"></script>

<script>
    Europa.Controllers.FilaEmail.UrlListarFilaEmail = '@Url.Action("ListarFilaEmail","FilaEmail")';
</script>

<div id="titlebar-name">@ViewBag.Title</div>

<div class="col-md-24">
    <div class="col-md-5 form-group hidden">
        @Html.Label(GlobalMessages.Destinatario)
        @Html.TextBox("Destinatario", "", new { @class = "form-control", maxlength = 128 })
    </div>

    <div class="col-md-10">
        @Html.Label(GlobalMessages.SituacaoEnvio)
        @Html.DropDownList("Situacoes", EnumHelper.GetSelectList(typeof(SituacaoEnvioFila)), new { @class = "form-control", multiple = "multiple" })
    </div>

    <div class="col-md-4 col-md-offset-1">
        @Html.Label(GlobalMessages.PeriodoEnvio)
        <div class="input-group">
            <span class="input-group-addon">@GlobalMessages.De</span>
            @Html.TextBox("PeriodoDe", "", new { @class = "form-control", datepicker = "datepicker", parent = "#form_filtro", @style = "height:30px", onchange = "Europa.Controllers.FilaEmail.OnChangePeriodo('PeriodoDe','PeriodoAte')" })
            <span class="input-group-btn">
                <button class="btn btn-default" type="button" style="height:30px" onclick=" Europa.Components.DatePicker.ClosestInput(this) ">
                    <i class="fa fa-calendar"></i>
                </button>
            </span>
        </div>
    </div>

    <div class="col-md-4 col-md-offset-1">
        @Html.Label(GlobalMessages.PeriodoEnvio, new { style = "visibility:hidden" })
        <div class="input-group">
            <span class="input-group-addon">@GlobalMessages.Ate</span>
            @Html.TextBox("PeriodoAte", "", new { @class = "form-control", datepicker = "datepicker", parent = "#form_filtro", @style = "height:30px" })
            <span class="input-group-btn">
                <button class="btn btn-default" type="button" style="height:30px" onclick=" Europa.Components.DatePicker.ClosestInput(this) ">
                    <i class="fa fa-calendar"></i>
                </button>
            </span>
        </div>
    </div>

    <div class="col-md-4 pull-right" style=" padding-top: 21px;padding-left: 40px;text-align: end;">
        <button class="btn btn-default text-right" onclick="Europa.Controllers.FilaEmail.FiltrarTabela()">
            <i class="fa fa-filter"></i>
            @GlobalMessages.Filtrar
        </button>
        <button class="btn btn-default text-right" onclick="Europa.Controllers.FilaEmail.LimparFiltro()">
            <i class="fa fa-eraser"></i>
            @GlobalMessages.Limpar
        </button>
    </div>
</div>
<div class="col-md-24">
    <div ng-controller="filaEmailTable as table">
        <div id="fila_email_datatable_header" hidden>

        </div>
        <table datatable="" dt-options="table.dtOptions" dt-columns="table.dtColumns"
               dt-instance="table.dtInstance" class="table table-striped table-bordered"
               dt-column-defs="table.dtColumnDefs"></table>
    </div>
</div>
