@using Europa.Resources
@using Tenda.EmpresaVenda.Web.Models.Application
@using Tenda.Domain.EmpresaVenda.Enums

<script type="text/javascript" src="~/Static/projeto/state-machine-pre-proposta/datatable-rule-machine.js"></script>

<div ng-controller="DatatableRuleMachine as table">
    <div id="rule_machine_datatable_barra" class="col-md-24 container-fluid">
        <div class="col-md-24 form-group">
            <form>
                <div class="col-md-8">
                    @Html.Label(GlobalMessages.Origem, new { @style = "font-size: 12px; font-weight: bolder;" })
                    @Html.DropDownList("filtro_origem", EnumHelper.GetSelectList(typeof(SituacaoProposta)).OrderBy(x => x.Text), GlobalMessages.Selecione, new { @class = "form-control" })
                </div>
                <div class="col-md-8 col-md-offset-1">
                    @Html.Label(GlobalMessages.Destino, new { @style = "font-size: 12px; font-weight: bolder;" })
                    @Html.DropDownList("filtro_destino", EnumHelper.GetSelectList(typeof(SituacaoProposta)).OrderBy(x => x.Text), GlobalMessages.Selecione, new { @class = "form-control" })
                </div>

                @if (SessionAttributes.Current().HasPermission(ViewBag.Codigo, "Visualizar"))
                {
                    <div class="col-md-3" style="margin-left:5px;">
                        <div class="pull-right">
                            @Html.Label(GlobalMessages.Origem, new { style = "visibility:hidden" })
                            <button class="btn btn-default" onclick="Europa.Controllers.StateMachinePreProposta.FiltrarRuleMachine()"><i class="fa fa-filter" aria-hidden="true"></i></button>
                            <button class="btn btn-default" type="button" onclick="Europa.Controllers.StateMachinePreProposta.LimparFiltroRuleMachine()"><i class="fa fa-eraser"></i></button>
                        </div>
                    </div>
                }
                @if (SessionAttributes.Current().HasPermission(ViewBag.Codigo, "Incluir"))
                {
                    <div class="col-md-2 col-md-offset-1">
                        @Html.Label(GlobalMessages.Origem, new { style = "visibility:hidden" })
                        <button class="btn btn-default" onclick="Europa.Controllers.StateMachinePreProposta.NewRule()"><i class="fa fa-plus" aria-hidden="true"></i> @GlobalMessages.Incluir</button>
                        
                    </div>
                }
</form>
        </div>
    </div>
    <table datatable="" dt-options="table.dtOptions" dt-columns="table.dtColumns"
           dt-instance="table.dtInstance" class="table table-striped table-bordered"
           dt-column-defs="table.dtColumnDefs"></table>
</div>

